<!DOCTYPE html>
<html>
<head>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<meta charset='utf-8'>
<meta content='width=device-width,minimum-scale=1,initial-scale=1' name='viewport'>
<title>「MedBeer -Rails 5.1での開発について-」に参加しました&nbsp;#medbeer | めも帖</title>
<link href="/stylesheets/site.css" rel="stylesheet" />
<script src="/javascripts/all.js"></script>
<link href='http://a-walker.me/articles/2017/06/event_med_beer.html' rel='canonical'>
<meta content='「MedBeer -Rails 5.1での開発について-」に参加しました。Rails のバージョンアップについて気になっていたのと、MedPeer について気になっていたので参加してきました。' name='description'>
<meta content='' property='og:site_name'>
<meta content='「MedBeer -Rails 5.1での開発について-」に参加しました&amp;nbsp;#medbeer' property='og:title'>
<meta content='http://a-walker.me//images/2017/6/med_beer.jpg' property='og:image'>
<meta content='「MedBeer -Rails 5.1での開発について-」に参加しました。Rails のバージョンアップについて気になっていたのと、MedPeer について気になっていたので参加してきました。' property='og:description'>
<meta content='' property='og:url'>
<meta content='summary_large_image' name='twitter:card'>
<meta content='' name='twitter:site'>
<meta content='「MedBeer -Rails 5.1での開発について-」に参加しました&amp;nbsp;#medbeer' name='twitter:title'>
<meta content='http://a-walker.me//images/2017/6/med_beer.jpg' name='twitter:image:src'>
<meta content='「MedBeer -Rails 5.1での開発について-」に参加しました。Rails のバージョンアップについて気になっていたのと、MedPeer について気になっていたので参加してきました。' name='twitter:description'>
</head>
<body></body>
<p class='blog_title'><a href="/">めも帖</a></p>
<div class='wrapper'>
<h1>「MedBeer -Rails 5.1での開発について-」に参加しました&nbsp;#medbeer</h1>
<div class='article'>
<time>2017年6月28日</time>
<p>「MedBeer -Rails 5.1での開発について-」に参加しました。
Rails のバージョンアップについて気になっていたのと、MedPeer について気になっていたので参加してきました。</p>

<h1>MedPeer について</h1>

<ul>
<li>MedPeer は Rails に移行中</li>
<li>開発合宿やってる</li>
<li>ランチLT会やってる</li>
<li>週一でレビューふりかえりしている</li>
<li>週一で輪読会やってる</li>
</ul>

<h2>メモ</h2>

<ul>
<li>ランチLT会いいな。</li>
</ul>

<h1>Rails5.1時代のアプリケーション開発</h1>

<ul>
<li>奥さんの誕生日による飯テロ</li>
<li>どの gem を使ったらいいの？

<ul>
<li><a href="http://awesome-ruby.com/">http://awesome-ruby.com/</a></li>
</ul></li>
<li>定番のgemのメンテスピードが落ちている気がする

<ul>
<li>forkすればよい？</li>
</ul></li>
<li>知見のある人のノウハウを共有する

<ul>
<li>社内</li>
<li>コミュニティ</li>
<li>技術顧問</li>
<li>英語圏の方が情報が多い

<ul>
<li><a href="http://rails-refactoring.com/">http://rails-refactoring.com/</a></li>
<li><a href="http://exceptionalruby.com/">http://exceptionalruby.com/</a></li>
<li><a href="https://rails-weekly.ongoodbits.com/">https://rails-weekly.ongoodbits.com/</a></li>
</ul></li>
</ul></li>
<li><a href="https://speakerdeck.com/willnet/rails5-dot-1shi-dai-falseapurikesiyonkai-fa">資料</a></li>
</ul>

<h2>メモ</h2>

<h2>- もしかして、Rails 2 の頃のソースを紹介するために 1.8 を入れていたのかな？</h2>

<h1>Why? Rails 5.1</h1>

<ul>
<li><a href="http://gihyo.jp/magazine/wdpress/archive/2017/vol99">Web + DB の Rails 5.1</a> の人</li>
<li><a href="https://speakerdeck.com/kyuden/why-rails-5-dot-1">資料</a></li>
</ul>

<h2>form_with</h2>

<ul>
<li>url: と model:</li>
<li>Why? ： <a href="https://github.com/rails/rails/issues/25197">https://github.com/rails/rails/issues/25197</a>

<ul>
<li>すべてのrailsアプリがturbolinksを使っている前提&hellip;</li>
</ul></li>
</ul>

<h2>encrypted secret</h2>

<ul>
<li>Why? Why？

<ul>
<li>アプリケーションコードと秘匿情報を一緒にバージョン管理をしたい</li>
<li><a href="https://github.com/rails/rails/issues/25095">https://github.com/rails/rails/issues/25095</a></li>
</ul></li>
</ul>

<h2>Keep Motivation</h2>

<ul>
<li>issueやコメントでの議論読んでみると面白い</li>
<li>モチベーションを保てる</li>
</ul>

<h2>FAQ</h2>

<ul>
<li>webpacker は？

<ul>
<li>webpacker の仕様変更を追うのが大変だった</li>
</ul></li>
</ul>

<h2>メモ</h2>

<ul>
<li>issue みるのいいかも

<ul>
<li><a href="http://y-yagi.hatenablog.com/">毎朝、rails commit logについて書いている人がいる</a></li>
</ul></li>
<li>turbolinks 使う前提&hellip;</li>
</ul>

<h1>MedPeerでスムーズにRails5.1へアップグレードするためにやったこと</h1>

<h2>アップグレード前</h2>

<ul>
<li>主要な機能には Rspecがあった</li>
<li>しばらく bundle update していないのがあった

<ul>
<li>このgemなんだろう？</li>
<li><a href="https://github.com/thoughtbot/administrate">https://github.com/thoughtbot/administrate</a></li>
</ul></li>
<li>Rails 5.1 とのアップグレードとの差分を少なくしておく

<ul>
<li>5.1 でしか動かない変更のみにしておく</li>
</ul></li>
</ul>

<h2>5.1 の変更点と対応方法を知る</h2>

<ul>
<li>A Guide for Upgrading Rails に目を通す</li>
<li>DEPRECATION のコードを修正</li>
<li>プライマリーキーをBIGINTにしない</li>
</ul>

<h2>FAQ</h2>

<ul>
<li><p>Bigint にしなかった理由は？</p>

<ul>
<li>開発環境でmigrateすることが度々ある</li>
</ul></li>
<li><p>一番時間かかったのは？</p>

<ul>
<li>secrets.yml でエラーがでた&hellip;</li>
</ul></li>
</ul>

<h1>モデル設計を適当にやるとどうなるか！？</h1>

<ul>
<li>4.2.8 だった</li>
<li>データ構造を保ち続けることは難しい</li>
<li>全部作り直す = 新バージョン = 辛い</li>
<li>コードは直せる

<ul>
<li>DB は辛い</li>
</ul></li>
<li>少しづつやっていく

<ul>
<li>スキーマ変更</li>
<li>スキーマ変更ツールを用意しておくいいかも</li>
</ul></li>
</ul>

<h2>FAQ</h2>

<ul>
<li>update を実行してテーブルロックとか、組織力で防げないのか？

<ul>
<li>onetime というディレクトリを作って知見を貯めていった</li>
</ul></li>
</ul>

</div>
<div class='blog-paging'>
<div class='button previous'>
<a href="/articles/2017/06/evet_rails_developers_meetup_2.html">前の記事</a>
</div>
<div class='button next'>
<a href="/articles/2017/07/book_effective_ruby.html">次の記事</a>
</div>
</div>
<ul class='tags'>
<li class='tag'><a href="/tags/event.html"># event</a></li>
<li class='tag'><a href="/tags/study.html"># study</a></li>
<li class='tag'><a href="/tags/ruby.html"># ruby</a></li>
</ul>
<h2>最新記事（10件）</h2>
<div class='item-horizontal'>
<div class='item-horizontal__scroll'>
<ul class='item-horizontal__scroll__list'>
<li id='item_1'><div class='article-horizontal'>
<a href="/articles/2017/10/evet_railsdm_6.html"><time>2017年10月19日</time>
<h2>Rails Developers Meetup&nbsp;#6&nbsp;#railsdm&nbsp;で登壇しました</h2>
</a></div>
</li>
<li id='item_2'><div class='article-horizontal'>
<a href="/articles/2017/08/evet_rails_developers_meetup_4.html"><time>2017年8月24日</time>
<h2>「Rails Developers Meetup 4」に参加しました&nbsp;#railsdm</h2>
</a></div>
</li>
<li id='item_3'><div class='article-horizontal'>
<a href="/articles/2017/08/event_engineers-join-design-review-2017.html"><time>2017年8月8日</time>
<h2>「デザインレビューにエンジニアも参加してみよう」の講師をしました</h2>
</a></div>
</li>
<li id='item_4'><div class='article-horizontal'>
<a href="/articles/2017/07/book_comic_blue_ocean_strategy.html"><time>2017年7月18日</time>
<h2>「マンガでやさしくわかるブルー・オーシャン戦略」を読みました</h2>
</a></div>
</li>
<li id='item_5'><div class='article-horizontal'>
<a href="/articles/2017/07/book_effective_ruby.html"><time>2017年7月10日</time>
<h2>「Effective Ruby」を読みました</h2>
</a></div>
</li>
<li id='item_6'><div class='article-horizontal'>
<a href="/articles/2017/06/event_med_beer.html"><time>2017年6月28日</time>
<h2>「MedBeer -Rails 5.1での開発について-」に参加しました&nbsp;#medbeer</h2>
</a></div>
</li>
<li id='item_7'><div class='article-horizontal'>
<a href="/articles/2017/06/evet_rails_developers_meetup_2.html"><time>2017年6月22日</time>
<h2>「Rails Developers Meetup 2」に参加しました&nbsp;#railsdm</h2>
</a></div>
</li>
<li id='item_8'><div class='article-horizontal'>
<a href="/articles/2017/06/event_omotesando.html"><time>2017年6月1日</time>
<h2>「表参道.rb 23 Ruby/Railsの学び方」に参加しました&nbsp;#omotesandorb</h2>
</a></div>
</li>
<li id='item_9'><div class='article-horizontal'>
<a href="/articles/2017/04/book_db_design.html"><time>2017年4月25日</time>
<h2>「達人に学ぶDB設計 徹底指南書」を読みました</h2>
</a></div>
</li>
<li id='item_10'><div class='article-horizontal'>
<a href="/articles/2017/04/book_erd.html"><time>2017年4月19日</time>
<h2>「楽々ERDレッスン」を読みました</h2>
</a></div>
</li>
</ul>
</div>
</div>
<h2>タグ一覧</h2>
<ul class='tags'>
<li class='tag'><a href="/tags/rails.html"># rails</a></li>
<li class='tag'><a href="/tags/event.html"># event</a></li>
<li class='tag'><a href="/tags/ruby.html"># ruby</a></li>
<li class='tag'><a href="/tags/study.html"># study</a></li>
<li class='tag'><a href="/tags/design.html"># design</a></li>
<li class='tag'><a href="/tags/books.html"># books</a></li>
<li class='tag'><a href="/tags/work.html"># work</a></li>
<li class='tag'><a href="/tags/gadget.html"># gadget</a></li>
<li class='tag'><a href="/tags/movie.html"># movie</a></li>
<li class='tag'><a href="/tags/food.html"># food</a></li>
<li class='tag'><a href="/tags/taiwan.html"># taiwan</a></li>
<li class='tag'><a href="/tags/memo.html"># memo</a></li>
<li class='tag'><a href="/tags/life.html"># life</a></li>
<li class='tag'><a href="/tags/tech.html"># tech</a></li>
<li class='tag'><a href="/tags/github.html"># github</a></li>
</ul>
<hr>
<footer>
<ul>
<li>筆者について</li>
<li><a href="https://twitter.com/kamonegi1977">twitter</a></li>
<li><a href="https://github.com/matsuhisa">github</a></li>
<li><a href="https://speakerdeck.com/matsuhisa">Speaker Deck</a></li>
<li><a href="http://qiita.com/matsuhisa_h">Qiita</a></li>
<li><a href="https://500px.com/matsuhisa">500px</a></li>
<li><a href="https://www.flickr.com/photos/matsuhisa/">flickr</a></li>
</ul>
</footer>
</div>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-89508188-1', 'auto');
  ga('send', 'pageview');
</script>
</html>
